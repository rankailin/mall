(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cd41641"],{"0929":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-wrapper"},[i("div",{staticClass:"classify-header"},[i("div",{staticClass:"classify-search",on:{touchend:t.goSearch}},[i("van-icon",{attrs:{size:"28px",name:"search"}}),i("span",[t._v(t._s(t.searchWord))])],1),i("one-tab")],1),i("div",{staticClass:"classify-list"},[i("sidetab",{attrs:{sideList:t.sideList}}),i("div",{staticClass:"classify-goods-list"},[t.showContent?i("goods-list"):i("van-loading",{attrs:{type:"spinner",color:"#ff1a90",size:"1rem",vertical:""}})],1)],1)])},n=[],o=i("5530"),c=i("2f62"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"oneTab",staticClass:"one-navigetion-wrappser"},[i("ul",{staticClass:"one-menu-list"},t._l(t.oneMenu,(function(e,s){return i("li",{key:e.title,class:{"one-menu":!0,active:s===t.index},on:{touchend:function(e){return t.touchE(s,e)},touchmove:function(e){t.move=!0},touchstart:function(e){t.move=!1}}},[i("div",{staticClass:"img-wrapper"},[i("img",{attrs:{src:e.imgURL}})]),i("span",{staticClass:"menu-title"},[t._v(t._s(e.title))])])})),0)])},u=[];function l(t,e,i,s){var n=0,o=6;e<0&&(o*=-1);var c=setInterval((function(){n+=o,i[s]=t+n,Math.abs(n)>Math.abs(e)&&(i[s]=t+e,clearInterval(c))}),3)}var r={moveTo:l},d={data:function(){return{index:0,move:!1,oneMenu:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["getSideList"])),{},{touchE:function(t,e){if(!this.move){this.index=t;var i=this.$refs.oneTab,s=i.offsetWidth,n=e.target.offsetWidth,o=e.target.getBoundingClientRect().left;r.moveTo(i.scrollLeft,n/2+o-s/2,i,"scrollLeft"),this.getSideList(this.oneMenu[t].title)}}}),mounted:function(){this.getSideList(this.oneMenu[0].title)}},g=d,m=(i("6202"),i("2877")),p=Object(m["a"])(g,a,u,!1,null,"78be5da4",null),h=p.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"sideTab",staticClass:"sidetab-wrapper"},t._l(t.sideList,(function(e,s){return i("div",{key:e,class:{"sidetab-title":!0,active:t.index===s},on:{touchend:function(e){return t.menuMove(s,e)},touchmove:function(e){t.move=!0},touchstart:function(e){t.move=!1}}},[t._v(t._s(0===s?"全部":e))])})),0)},b=[],v={props:["sideList"],data:function(){return{index:0,move:!1}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["resetGoodsList"])),Object(c["b"])(["getGoodsList"])),{},{menuMove:function(t,e){if(!this.move){this.index=t;var i=this.$refs.sideTab,s=i.offsetHeight,n=e.target.getBoundingClientRect().top,o=e.target.offsetHeight;r.moveTo(i.scrollTop,n+o/2-s/2,i,"scrollTop"),this.resetGoodsList(),this.getGoodsList({type:this.sideList[t],page:1,sort:"all"})}}})},y=v,j=(i("a65e"),Object(m["a"])(y,f,b,!1,null,"54b6c176",null)),L=j.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-list"},[i("ul",{staticClass:"sort van-hairline--top-bottom"},[i("li",{class:{active:"all"===t.type},on:{touchend:function(e){return t.selectSort("all")}}},[t._v("综合")]),i("li",{class:{active:"sale"===t.type},on:{touchend:function(e){return t.selectSort("sale")}}},[t._v("销量")]),i("li",{class:{price:!0,"price-up":"price-up"===t.type,"price-down":"price-down"===t.type},on:{touchend:function(e){return t.selectSort("price")}}},[t._v("价格")])]),i("div",{staticClass:"list"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isloading,callback:function(e){t.isloading=e},expression:"isloading"}},[i("van-list",{attrs:{finished:t.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.goodsList,(function(e){return i("div",{key:e.id,staticClass:"goods-items"},[i("list",{attrs:{item:e,goodsObj:t.counteMap}})],1)})),0)],1)],1)])},O=[],_=(i("96cf"),i("1da1")),k=i("2e90"),w={components:{List:k["a"]},data:function(){return{type:"all",page:1,loading:!1,finished:!1,isloading:!1}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["resetGoodsList"])),Object(c["b"])(["getGoodsList"])),{},{onRefresh:function(){this.isloading=!0,this.finished=!1,this.loading=!1,this.page=1,this.resetGoodsList(),this.getGoodsList({page:this.page,sort:this.type}),this.isloading=!1},onLoad:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,t.loading=!0,e.next=4,t.getGoodsList({page:t.page,sort:t.type});case 4:i=e.sent,i?t.loading=!1:t.finished=!0;case 6:case"end":return e.stop()}}),e)})))()},selectSort:function(t){"all"===t?this.type="all":"sale"===t?this.type="sale":"price-up"===this.type?this.type="price-down":this.type="price-up",this.resetGoodsList(),this.getGoodsList({page:1,sort:this.type})}}),computed:Object(o["a"])({},Object(c["d"])({goodsList:function(t){return t.goodsList},counteMap:function(t){return t.counteMap}}))},x=w,R=(i("2061"),Object(m["a"])(x,C,O,!1,null,"3724f15a",null)),U=R.exports,G={components:{OneTab:h,Sidetab:L,GoodsList:U},data:function(){return{searchWord:"吃了香蕉,好拉屎~~"}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])(["resetGoodsList"])),Object(c["b"])(["getGoodsList"])),{},{goSearch:function(){this.$router.push({name:"Search"})}}),computed:Object(o["a"])({},Object(c["d"])({showContent:function(t){return t.showContent},sideList:function(t){return t.sideList}})),watch:{showContent:function(){this.showContent&&(this.resetGoodsList(),this.getGoodsList({type:this.sideList[0],page:1,sort:"all"}))}}},$=G,T=(i("cb30"),Object(m["a"])($,s,n,!1,null,null,null));e["default"]=T.exports},2061:function(t,e,i){"use strict";i("c4c4")},2734:function(t,e,i){},"2e90":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-info van-hairline--bottom"},[i("div",{staticClass:"img-wrapper"},[i("img",{ref:"img",attrs:{src:t.item.images[0]}})]),i("ul",{staticClass:"info"},[i("li",{staticClass:"title overflow-text"},[t._v(t._s(t.item.title))]),i("li",{staticClass:"desc overflow-text"},[t._v(t._s(t.item.desc))]),i("li",{staticClass:"tags"},t._l(t.item.tags,(function(e){return i("span",{key:e},[t._v(t._s(e))])})),0),i("li",{staticClass:"price"},[i("div",{staticClass:"price-item"},[i("span",{staticClass:"price-num"},[t._v("¥"+t._s(t.item.price))]),i("span",{staticClass:"goods-num"},[t.goodsObj[t.item.id]>0?i("p",{on:{touchend:function(e){return t.counter(t.item.id,-1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png"}})]):t._e(),t.goodsObj[t.item.id]>0?i("p",[t._v(t._s(t.goodsObj[t.item.id]))]):t._e(),i("p",{on:{touchend:function(e){return t.counter(t.item.id,1)}}},[i("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png"}})])])])])])])},n=[],o=i("5530"),c=i("2f62"),a=i("a026"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.exist?i("div",{staticClass:"item",style:{width:t.width+"px",height:t.height+"px",opacity:t.opacity,transform:"translate("+t.moveX+"px,\n  "+t.moveY+"px) scale("+t.sx+", "+t.sy+")"}},[i("img",{attrs:{src:t.src}})]):t._e()},l=[],r={},d=r,g=(i("4972"),i("2877")),m=Object(g["a"])(d,u,l,!1,null,"49e12b06",null),p=m.exports,h=a["a"].extend(p),f=function(t){var e=t.startX,i=t.startY,s=t.endX,n=t.endY,o=t.src,c=t.width,a=t.height,u=new h({el:document.createElement("div"),data:function(){return{moveX:e,moveY:i,sx:1,sy:1,opacity:1,exist:!0,src:o,width:c,height:a}}});document.body.appendChild(u.$el),setTimeout((function(){u.moveX=s,u.moveY=n,u.sx=.1,u.sy=.1,u.opacity=0}),0),setTimeout((function(){u.exist=!1}),1e3)},b={props:["item","goodsObj","nofly"],methods:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["storageChange"])),{},{counter:function(t,e){if(this.storageChange({id:t,value:e}),-1!==e&&(console.log(this.nofly),!this.nofly)){var i=this.$refs.img.getBoundingClientRect(),s=i.left,n=i.top,o=this.$refs.img,c=o.offsetWidth,a=o.offsetHeight,u=document.getElementById("shop-cart"),l=u.getBoundingClientRect(),r=l.top,d=l.left,g=u.offsetWidth,m=u.offsetHeight,p=d+g/2,h=r+m/2;console.log(s,n,r,d),f({startX:s,startY:n,endX:p,endY:h,src:this.$refs.img.src,width:c,height:a})}}})},v=b,y=(i("a4d4"),Object(g["a"])(v,s,n,!1,null,"00bdffbe",null));e["a"]=y.exports},4972:function(t,e,i){"use strict";i("e153")},6202:function(t,e,i){"use strict";i("bbc4")},a162:function(t,e,i){},a4d4:function(t,e,i){"use strict";i("a162")},a65e:function(t,e,i){"use strict";i("2734")},bbc4:function(t,e,i){},c4c4:function(t,e,i){},cb30:function(t,e,i){"use strict";i("e3e1")},e153:function(t,e,i){},e3e1:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3cd41641.2d074ee0.js.map